services:
  # Overrides CoreBundle/Services/MiddlewareCommunication.
  os2display.middleware.communication:
    class: Itk\CampaignBundle\Service\MiddlewareCommunication
    arguments: ['@service_container', '@os2display.template_service', '@os2display.utility_service']
    tags:
      - { name: kernel.event_listener, event: ik.cron, method: onCron, priority: 1 }

  os2display.campaign_manager:
    class: Itk\CampaignBundle\Service\CampaignManager
    arguments:
      - '@os2display.entity_service'
      - '@os2display.security_manager'
      - '@os2display.group_manager'
      - '@doctrine.orm.entity_manager'
